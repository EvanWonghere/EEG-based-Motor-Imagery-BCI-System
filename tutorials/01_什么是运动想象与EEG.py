# -*- coding: utf-8 -*-
"""
教程 01：什么是运动想象与 EEG？
================================
目标：用最少代码建立直觉 —— 我们做的是什么、信号从哪来、要得到什么结果。
"""

# ---------------------------------------------------------------------------
# 一、运动想象 (Motor Imagery, MI) 是什么？
# ---------------------------------------------------------------------------
# 运动想象 = 在脑子里“想象”做某个动作，但身体不动。
# 例如：想象左手握拳、想象右手握拳、想象双脚动。
#
# 科学事实：当你想象左手动时，大脑**运动皮层**中负责左手的那一块会兴奋，
# 脑电 (EEG) 在对应头皮位置会出现特定节律的变化（Mu 节律 8–13 Hz、Beta 节律 13–30 Hz）。
# 不同想象（左手/右手/脚）对应不同脑区，所以理论上可以从 EEG 里“读出”你在想哪种动作。
#
# 脑机接口 (BCI) 的目标：根据实时 EEG → 算法判断“你正在想象哪种动作” → 控制外部设备（如游戏、轮椅）。

# ---------------------------------------------------------------------------
# 二、EEG 信号从哪来？
# ---------------------------------------------------------------------------
# EEG = 头皮上电极记录的电压随时间变化。
# - 采样率：例如 160 Hz 表示每秒采 160 个点。
# - 通道：每个电极一个通道，例如 64 通道 = 64 个时间序列。
# - 单位：微伏 (µV)。数值很小，需要放大才能记录。
#
# 本项目中：
# - 离线阶段：使用**已有数据集**（如 PhysioNet EEGBCI 或 BCI Competition IV 2a）的 .edf/.gdf 文件。
# - “实时”阶段：通过 LSL 把离线数据**按时间回放**，模拟实时流，不接真实设备。

# ---------------------------------------------------------------------------
# 三、算法流水线（后面教程会逐步实现）
# ---------------------------------------------------------------------------
# 1. 加载原始 EEG → 2. 带通滤波 (8–30 Hz) → 3. 按“事件”切成一截一截（Epoching）
#    → 4. 用 CSP 从多通道里提取少数几个“空间特征”
#    → 5. 用 LDA 等分类器根据特征判断：左手 / 右手 / 脚 …
#    → 6. 把预测结果通过 LSL 发给 Unity 做可视化或控制。
#
# 下面用几行“伪数据”帮你建立“形状”的直觉。
# ---------------------------------------------------------------------------

import numpy as np

# 假设：3 个试次 (trials)，每个试次 4 个通道，每通道 100 个时间点（例如 0.5 秒 @ 200 Hz）
n_trials = 3
n_channels = 4
n_times = 100
fake_eeg = np.random.randn(n_trials, n_channels, n_times) * 1e-6  # 单位：微伏量级

print("【形状直觉】")
print("EEG 数据形状 (试次, 通道, 时间点):", fake_eeg.shape)
print("即：每次“想象”对应一个 (通道数 × 时间点) 的矩阵，多试次堆叠成 3 维数组。")
print()
print("后续我们会：")
print("  - 用 CSP 把 (n_channels, n_times) 变成 (n_features,) 例如 4 个数字；")
print("  - 用 LDA 根据这 4 个数字判断是「左手」还是「右手」。")
print()
print("教程 01 结束。请运行 02_加载与查看原始数据.py 学习如何加载真实数据。")
